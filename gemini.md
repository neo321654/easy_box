# Правила и Соглашения по Рабочему Процессу

Этот документ содержит набор правил и соглашений, выработанных в ходе работы над проектом, для обеспечения консистентности и предсказуемости.

## 1. Git и Управление Ветками (GitFlow)

- **Основа:** Всегда используется методология GitFlow.
- **Ветка `develop`:** Основная ветка для разработки. Все новые ветки создаются от нее.
- **Feature-ветки:** Любая новая задача (фича, исправление, документация) реализуется в отдельной ветке. Имя ветки должно отражать суть задачи (например, `feature/admin-theme`, `fix/login-bug`).
- **Слияние:** После завершения работы feature-ветка сливается в `develop`. Для релиза (деплоя) ветка `develop` сливается в `main`.

## 2. CI/CD и Развертывание

- **Условие Запуска:** Автоматическое развертывание бэкенда запускается **только** при `push` в ветку `main` и **только** если изменения затрагивают папку `easy_box_backend/`.
- **Проверка перед пушем:** Перед отправкой изменений в `main` необходимо всегда проверять, выполняются ли условия для запуска деплоя, чтобы избежать лишних коммитов.

## 3. Технологические Предпочтения

- **Хранение Изображений:** Используется внешний сервис **Cloudinary**. Логика загрузки и получения URL изображений реализована в бэкенде.
- **Тема Админ-панели:** Предпочтение отдается готовым сторонним пакетам (текущий выбор — **django-jazzmin**) вместо написания кастомных CSS-стилей.
- **Язык:** Интерфейс админ-панели и вся коммуникация ведутся на **русском языке**.

## 4. Стиль Коммитов

- **Conventional Commits:** Сообщения коммитов должны следовать этому стилю для ясности и читаемости истории. Примеры:
  - `feat(admin): add new theme`
  - `fix(backend): correct syntax error in settings.py`
  - `docs(backend): update documentation`
  - `chore: trigger deployment workflow`

## 5. Процесс Работы и Коммуникация

- **Планирование:** Перед выполнением набора действий я должен кратко описать план.
- **Отладка:** При возникновении ошибок используется следующий цикл: выявление проблемы -> построение гипотезы -> запрос логов (`ps`, `logs backend`, `logs nginx`) -> анализ -> исправление.