# План переделки бэкенда с FastAPI на Django

Этот документ отслеживает задачи, необходимые для полного переноса бэкенда с FastAPI на Django.

## Фаза 1: Анализ и планирование

- [x] Проанализировать существующий FastAPI бэкенд для понимания полной функциональности.
- [x] Определить стек технологий для нового бэкенда (Django, Django Rest Framework, Cloudinary, etc.).
- [x] Создать этот план задач.

## Фаза 2: Настройка проекта Django

- [x] Инициализировать новый проект Django в директории `easy_box_backend`.
- [x] Настроить `settings.py`: базы данных, установленные приложения, middleware, и т.д.
- [x] Создать новый `requirements.txt` с зависимостями Django (Django, djangorestframework, django-cors-headers, python-cloudinary, python-dotenv, requests).
- [x] Настроить Docker (`Dockerfile`, `docker-compose.yml`) для нового Django-приложения.

## Фаза 3: Реализация основного функционала

- [x] Перенести модели SQLAlchemy (`User`, `Product`, `Order`, `OrderLine`) на Django ORM.
- [x] Создать и применить миграции базы данных Django.
- [x] Настроить административную панель Django.
- [x] Включить и настроить русскую локализацию для админ-панели.
- [x] Зарегистрировать модели в админ-панели и настроить их отображение.

## Фаза 4: Реализация API

- [x] Создать сериализаторы Django Rest Framework для всех моделей.
- [x] Реализовать ViewSets и URL-роутинг для API (`/products`, `/orders`, `/auth`).
- [x] Настроить аутентификацию (вероятно, TokenAuthentication) для API.
- [x] Настроить CORS, чтобы разрешить запросы от Flutter-приложения.

## Фаза 5: Интеграции и дополнительная функциональность

- [x] Реализовать загрузку изображений в Cloudinary для модели `Product`.
- [x] Перенести логику отправки уведомлений в Telegram.
- [x] Создать команду для создания суперпользователя по умолчанию.
- [x] Перенести обработку ошибок и логирование.

## Фаза 6: Очистка и завершение

- [x] Удалить старые файлы FastAPI-приложения (`main.py`, `crud.py`, `routers/`, и т.д.).
- [x] Провести финальное тестирование, чтобы убедиться, что вся функциональность сохранена.
- [x] Обновить `README.md`, если это необходимо.

## Фаза 7: Деплой

- [ ] Выполнить слияние ветки с новой функциональностью в `develop`.
- [ ] Отправить `develop` в удаленный репозиторий.
- [ ] Выполнить слияние `develop` в `main`.
- [ ] Отправить `main` в удаленный репозиторий для запуска CI/CD.
