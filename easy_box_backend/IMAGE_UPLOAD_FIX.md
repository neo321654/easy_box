# План исправления загрузки изображений

Этот документ отслеживает шаги по исправлению и тестированию загрузки изображений для продуктов.

## Фаза 1: Анализ и исправление

- [ ] **Проблема:** Загрузка изображений не работает.
  - **Решение:** Проверить и исправить логику загрузки изображений в `ProductViewSet` и `ProductSerializer`.
  - [ ] *Шаг 1: Проверить, что `MultiPartParser` используется для `upload_image` экшена. Добавить его явно, если это необходимо.*
  - [ ] *Шаг 2: Упростить `ProductSerializer`, чтобы он не отвечал за логику загрузки. Перенести логику загрузки в `upload_image` экшен.*
  - [ ] *Шаг 3: Убедиться, что `ProductAdmin` также правильно обрабатывает загрузку изображений.*

## Фаза 2: Тестирование

- [ ] **Подготовка:**
  - [ ] Получить токен аутентификации.
  - [ ] Создать продукт для теста.
  - [ ] Добавить задержку в 3 минуты после деплоя.

- [ ] **Тестирование API:**
  - [ ] Попытаться загрузить изображение для продукта через `upload_image` эндпоинт.
  - [ ] Проверить, что `image_url` продукта обновился.

- [ ] **Тестирование админ-панели:**
  - [ ] (Мануально) Проверить загрузку изображения через админ-панель.

## Фаза 3: Завершение

- [ ] Удалить файл `IMAGE_UPLOAD_FIX.md`.
- [ ] Закоммитить и запушить все исправления.
